@model WebChef.Models.Receita
@{
    ViewData["Title"] = "Informação Receita";
}

<h1>@Html.DisplayFor(model => model.nome)</h1>


<div class="col-md-4">
    <div class="thumbnail">
        <img src=@Url.Content(Model.imagem) alt="Imagem Receita" style="width:100%">
    </div>
</div>

<div style="float: right;  margin-left:20px; display: inline-block; ">
    @for (int i = 0; i < Model.ingredientes.Length; i++)
    {
        <div class="col-md-4" style="float: right;  margin-left:20px; display: inline-block; ">
            <div class="thumbnail">
                <img src=@Url.Content(Model.ingredientes[i].imagem) style="width:100%">
                
                <a asp-controller="ReceitaView" asp-action="GetIngrediente" asp-route-receita=@Model.id_receita asp-route-id=@Model.ingredientes[i].id_ingrediente>
                    @Model.ingredientes[i].designacao
                </a>
            </div>
        </div>
        
    }
</div>

<div>
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.descricao)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.descricao)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.duracao_prevista)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.duracao_prevista_display)
        </dd>
        <dt class="col-sm-2"></dt>
        <dd class="col-sm-10">
            <a href=@Model.link_ajuda>Link do vídeo</a>

        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.nr_pessoas)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.nr_pessoas)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.dificuldade)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.dificuldade)
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.categoria)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.categoria)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.ingredientes)
        </dt>

    </dl>
</div>

<table class="table">
    <tr bgcolor='@("#EEE")'>
        <th>
            @Html.DisplayNameFor(model => model.energia)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.lipidos)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.saturados)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.hidratosCarbono)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.acucares)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.fibras)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.proteinas)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.sal)
        </th>
    </tr>
    <tr>
        <th>
            @Html.DisplayFor(model => model.energia)
        </th>
        <th>
            @Html.DisplayFor(model => model.lipidos)
        </th>
        <th>
            @Html.DisplayFor(model => model.saturados)
        </th>
        <th>
            @Html.DisplayFor(model => model.hidratosCarbono)
        </th>
        <th>
            @Html.DisplayFor(model => model.acucares)
        </th>
        <th>
            @Html.DisplayFor(model => model.fibras)
        </th>
        <th>
            @Html.DisplayFor(model => model.proteinas)
        </th>
        <th>
            @Html.DisplayFor(model => model.sal)
        </th>
    </tr>
</table>



<div>
    @if (User.Identity.IsAuthenticated)
    {
        if (ViewBag.isFavorita == false)
        {
            <a asp-controller="UtilizadorView" asp-action="AddReceitaFavoritos" asp-route-id=@Model.id_receita class="btn btn-secondary">
                Adicionar Receita a Favoritos
            </a>
        }
        else
        {
            <a asp-controller="UtilizadorView" asp-action="RmReceitaFavoritos" asp-route-id=@Model.id_receita class="btn btn-secondary">
                Remover Receita de Favoritos
            </a>
        }


        if (ViewBag.isSemanal == false)
        {
            <a asp-controller="ReceitaView" asp-action="AddReceitaSemana" asp-route-id=@Model.id_receita class="btn btn-secondary">
                Adicionar Receita a Ementa Semanal
            </a>
        }
        else
        {
            <a asp-controller="ReceitaView" asp-action="RmReceitaSemana" asp-route-id=@Model.id_receita class="btn btn-secondary">
                Remover Receita de Ementa Semanal
            </a>
        }

        <a asp-controller="ReceitaView" asp-action="ConfecionaReceita" asp-route-id=@Model.id_receita asp-route-passo=1 class="btn btn-secondary">
            Confecionar Receita
        </a>


    }
</div>
